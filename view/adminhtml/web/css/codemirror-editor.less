/**
 * Copyright (c) 2026. Volodymyr Hryvinskyi. All rights reserved.
 * Author: Volodymyr Hryvinskyi <volodymyr@hryvinskyi.com>
 * GitHub: https://github.com/hryvinskyi
 */

@codemirror-primary: #007dbd;
@codemirror-secondary: #79a22e;
@codemirror-accent: #eb5202;
@codemirror-text: #4a3f39;
@codemirror-border: #666666;
@codemirror-bg: #f5f5f5;
@codemirror-bg-light: #ffffff;
@codemirror-highlight: #fff1ad;
@codemirror-muted: #e3e3e3;

.codemirror-editor-root {
    position: relative;
    width: 100%;
    margin-bottom: 10px;

    .codemirror-textarea {
        display: none;
    }

    .CodeMirror {
        border: 1px solid @codemirror-border;
        border-radius: 4px;
        font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;
        font-size: 13px;
        line-height: 1.5;
        background: @codemirror-bg-light;
        min-height: 200px;

        &-focused {
            border-color: @codemirror-primary;
            box-shadow: 0 0 0 2px fade(@codemirror-primary, 20%);
        }

        &-gutters {
            background: @codemirror-bg;
            border-right: 1px solid @codemirror-muted;
        }

        &-linenumber {
            color: @codemirror-border;
            padding: 0 8px;
        }

        &-cursor {
            border-left-color: @codemirror-text;
        }

        &-selected {
            background: fade(@codemirror-primary, 15%) !important;
        }

        &-activeline-background {
            background: fade(@codemirror-highlight, 30%);
        }

        &-matchingbracket {
            color: @codemirror-secondary !important;
            font-weight: bold;
            background: fade(@codemirror-secondary, 20%);
        }

        &-nonmatchingbracket {
            color: @codemirror-accent !important;
            font-weight: bold;
            background: fade(@codemirror-accent, 20%);
        }

        pre {
            padding: 0 4px;
        }
    }

    &.codemirror-disabled {
        opacity: 0.6;
        pointer-events: none;

        .CodeMirror {
            background: @codemirror-muted;
            cursor: not-allowed;
        }
    }
}

.CodeMirror-scroll {
    min-height: 200px;
}

.cm-s-default {
    .cm-keyword { color: #708; }
    .cm-atom { color: #219; }
    .cm-number { color: #164; }
    .cm-def { color: #00f; }
    .cm-variable { color: @codemirror-text; }
    .cm-variable-2 { color: #05a; }
    .cm-variable-3, .cm-type { color: #085; }
    .cm-property { color: @codemirror-text; }
    .cm-operator { color: @codemirror-text; }
    .cm-comment { color: #a50; }
    .cm-string { color: #a11; }
    .cm-string-2 { color: #f50; }
    .cm-meta { color: #555; }
    .cm-qualifier { color: #555; }
    .cm-builtin { color: #30a; }
    .cm-bracket { color: #997; }
    .cm-tag { color: @codemirror-secondary; }
    .cm-attribute { color: @codemirror-primary; }
    .cm-header { color: @codemirror-primary; font-weight: bold; }
    .cm-quote { color: #090; }
    .cm-hr { color: #999; }
    .cm-link { color: @codemirror-primary; }
    .cm-error { color: @codemirror-accent; }
}

.admin__field-control {
    .codemirror-editor-root {
        max-width: 100%;
    }
}
